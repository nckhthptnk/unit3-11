<!doctype html>
<html lang="vi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unit 1: Generation Gap and Independence Life</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      height: 100%;
      overflow-x: hidden;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    html {
      height: 100%;
    }
    
    .flashcard {
      perspective: 1000px;
      cursor: pointer;
      height: 450px;
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .flashcard-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    
    .flashcard.flipped .flashcard-inner {
      transform: rotateY(180deg);
    }
    
    .flashcard-front, .flashcard-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 16px;
      padding: 40px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      text-align: center;
    }
    
    .flashcard-back {
      transform: rotateY(180deg);
    }
    
    .flashcard-front h2 {
      font-size: 3rem;
      font-weight: bold;
      margin-bottom: 1rem;
      color: white;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    
    .flashcard-front p {
      color: white;
      font-size: 1.1rem;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }
    
    .flashcard-back h3 {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 0.5rem;
      color: white;
    }
    
    .flashcard-back .phonetic {
      font-size: 1.5rem;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 1rem;
    }
    
    .flashcard-back .word-type {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.8);
      font-style: italic;
      margin-bottom: 1.5rem;
    }
    
    .flashcard-back .definition {
      font-size: 1.3rem;
      color: white;
      margin-bottom: 1.5rem;
      line-height: 1.6;
    }
    
    .flashcard-back .example {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.9);
      font-style: italic;
      line-height: 1.5;
    }
    
    .highlight {
      background-color: #fef08a;
      padding: 2px 4px;
      border-radius: 2px;
      font-weight: 600;
      color: #000;
    }
    
    .quiz-option {
      transition: all 0.3s;
      cursor: pointer;
    }
    
    .quiz-option:hover:not(.correct):not(.incorrect) {
      transform: translateX(4px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    
    .quiz-option.selected {
      border-width: 3px;
    }
    
    .quiz-option.correct {
      background-color: #86efac !important;
      border-color: #22c55e !important;
    }
    
    .quiz-option.incorrect {
      background-color: #fca5a5 !important;
      border-color: #ef4444 !important;
    }
    
    .progress-bar {
      transition: width 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.3s ease;
    }
    
    .grammar-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
    }
    
    .grammar-content.active {
      max-height: 3000px;
    }
    
    .tab-button {
      transition: all 0.3s;
      position: relative;
    }
    
    .tab-button.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      right: 0;
      height: 3px;
      border-radius: 3px 3px 0 0;
    }
    
    .control-button {
      transition: all 0.2s;
    }
    
    .control-button:hover:not(:disabled) {
      transform: scale(1.05);
    }
    
    .control-button:active:not(:disabled) {
      transform: scale(0.95);
    }
    
    .control-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .reading-passage {
      line-height: 1.8;
      font-size: 1.1rem;
    }
    
    .progress-circle {
      position: relative;
      width: 80px;
      height: 80px;
      display: inline-block;
    }
    
    @media (min-width: 768px) {
      .progress-circle {
        width: 110px;
        height: 110px;
      }
    }
    
    @media (min-width: 1024px) {
      .progress-circle {
        width: 140px;
        height: 140px;
      }
    }
    
    .progress-circle svg {
      width: 100%;
      height: 100%;
    }
    
    .progress-ring {
      transform: rotate(-90deg);
    }
    
    .progress-ring-circle {
      transition: stroke-dashoffset 0.5s ease;
    }
    
    @media (max-width: 768px) {
      .flashcard {
        height: 400px;
      }
      
      .flashcard-front h2 {
        font-size: 2.5rem;
      }
      
      .flashcard-back h3 {
        font-size: 2rem;
      }
    }
    
    @media (max-width: 640px) {
      .flashcard {
        height: 350px;
      }
      
      .flashcard-front h2 {
        font-size: 2rem;
      }
      
      .flashcard-back h3 {
        font-size: 1.5rem;
      }
      
      .flashcard-back .phonetic {
        font-size: 1.2rem;
      }
      
      .flashcard-back .definition {
        font-size: 1.1rem;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body>
  <div id="app" class="min-h-full flex flex-col"><!-- Header -->
   <header class="py-4 px-4 md:py-6 md:px-6">
    <div class="max-w-7xl mx-auto">
     <div class="mb-4"><a href="https://nckhthptnk.github.io/tienganh11/" target="_blank" rel="noopener noreferrer" id="home-btn" class="control-button inline-flex items-center gap-2 px-3 py-2 md:px-4 md:py-2 rounded-lg font-semibold text-white text-sm md:text-base mb-3 md:mb-4"> <span id="home-button-text">üè† Trang ch·ªß</span> </a>
      <h1 id="unit-title" class="text-xl md:text-3xl lg:text-4xl font-bold leading-tight">Unit 1: Generation Gap and Independence Life</h1>
     </div><!-- Progress Dashboard -->
     <div class="mt-4 md:mt-6">
      <h2 class="text-lg md:text-xl lg:text-2xl font-bold mb-3 md:mb-4">Ti·∫øn ƒë·ªô h·ªçc t·∫≠p</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 lg:gap-6"><!-- Total Progress -->
       <div class="rounded-xl p-3 md:p-4 lg:p-6 text-center shadow-lg">
        <div class="progress-circle mx-auto mb-2">
         <svg class="progress-ring" viewbox="0 0 120 120" width="100%" height="100%"><circle class="text-gray-200" stroke="currentColor" stroke-width="10" fill="transparent" r="52" cx="60" cy="60" /> <circle id="total-progress-ring" class="progress-ring-circle" stroke="currentColor" stroke-width="10" fill="transparent" r="52" cx="60" cy="60" stroke-dasharray="326.73" stroke-dashoffset="326.73" />
         </svg>
         <div class="absolute inset-0 flex items-center justify-center"><span id="total-progress-text" class="text-lg md:text-2xl lg:text-3xl font-bold">0%</span>
         </div>
        </div>
        <p id="total-progress-label" class="font-semibold text-xs md:text-sm lg:text-base">T·ªïng ti·∫øn ƒë·ªô</p>
       </div><!-- Vocabulary Progress -->
       <div class="rounded-xl p-3 md:p-4 lg:p-6 text-center shadow-lg">
        <div class="progress-circle mx-auto mb-2">
         <svg class="progress-ring" viewbox="0 0 120 120" width="100%" height="100%"><circle class="text-gray-200" stroke="currentColor" stroke-width="9" fill="transparent" r="52" cx="60" cy="60" /> <circle id="vocab-progress-ring" class="progress-ring-circle" stroke="currentColor" stroke-width="9" fill="transparent" r="52" cx="60" cy="60" stroke-dasharray="326.73" stroke-dashoffset="326.73" />
         </svg>
         <div class="absolute inset-0 flex items-center justify-center"><span id="vocab-progress-text" class="text-lg md:text-2xl lg:text-3xl font-bold">0%</span>
         </div>
        </div>
        <p id="vocab-progress-label" class="font-semibold text-xs md:text-sm lg:text-base">T·ª´ v·ª±ng</p>
       </div><!-- Reading Progress -->
       <div class="rounded-xl p-3 md:p-4 lg:p-6 text-center shadow-lg">
        <div class="progress-circle mx-auto mb-2">
         <svg class="progress-ring" viewbox="0 0 120 120" width="100%" height="100%"><circle class="text-gray-200" stroke="currentColor" stroke-width="9" fill="transparent" r="52" cx="60" cy="60" /> <circle id="reading-progress-ring" class="progress-ring-circle" stroke="currentColor" stroke-width="9" fill="transparent" r="52" cx="60" cy="60" stroke-dasharray="326.73" stroke-dashoffset="326.73" />
         </svg>
         <div class="absolute inset-0 flex items-center justify-center"><span id="reading-progress-text" class="text-lg md:text-2xl lg:text-3xl font-bold">0%</span>
         </div>
        </div>
        <p id="reading-progress-label" class="font-semibold text-xs md:text-sm lg:text-base">B√†i ƒë·ªçc</p>
       </div><!-- Grammar Progress -->
       <div class="rounded-xl p-3 md:p-4 lg:p-6 text-center shadow-lg">
        <div class="progress-circle mx-auto mb-2">
         <svg class="progress-ring" viewbox="0 0 120 120" width="100%" height="100%"><circle class="text-gray-200" stroke="currentColor" stroke-width="9" fill="transparent" r="52" cx="60" cy="60" /> <circle id="grammar-progress-ring" class="progress-ring-circle" stroke="currentColor" stroke-width="9" fill="transparent" r="52" cx="60" cy="60" stroke-dasharray="326.73" stroke-dashoffset="326.73" />
         </svg>
         <div class="absolute inset-0 flex items-center justify-center"><span id="grammar-progress-text" class="text-lg md:text-2xl lg:text-3xl font-bold">0%</span>
         </div>
        </div>
        <p id="grammar-progress-label" class="font-semibold text-xs md:text-sm lg:text-base">Ng·ªØ ph√°p</p>
       </div>
      </div>
     </div>
    </div>
   </header><!-- Tab Navigation -->
   <div class="flex justify-center gap-2 md:gap-4 px-4 md:px-6 mb-6 md:mb-8 flex-wrap"><button id="vocab-tab" class="tab-button px-4 md:px-8 py-2 md:py-3 rounded-lg font-semibold text-sm md:text-base active"> <span id="vocabulary-tab-text">üìö T·ª´ v·ª±ng</span> </button> <button id="reading-tab" class="tab-button px-4 md:px-8 py-2 md:py-3 rounded-lg font-semibold text-sm md:text-base"> <span id="reading-tab-text">üìñ B√†i ƒë·ªçc</span> </button> <button id="stereotypes-tab" class="tab-button px-4 md:px-8 py-2 md:py-3 rounded-lg font-semibold text-sm md:text-base"> <span id="stereotypes-tab-text">üé≠ ƒê·ªãnh ki·∫øn</span> </button> <button id="grammar-tab" class="tab-button px-4 md:px-8 py-2 md:py-3 rounded-lg font-semibold text-sm md:text-base"> <span id="grammar-tab-text">‚úèÔ∏è Ng·ªØ ph√°p</span> </button>
   </div><!-- Main Content -->
   <main class="flex-1 px-4 md:px-6 pb-8"><!-- Vocabulary Section -->
    <div id="vocab-section" class="max-w-4xl mx-auto"><!-- Sub-tabs for Vocabulary -->
     <div class="flex justify-center gap-2 md:gap-4 mb-6"><button id="flashcard-subtab" class="tab-button px-4 md:px-6 py-2 rounded-lg font-semibold text-sm md:text-base active"> üìá Flashcard </button> <button id="test-subtab" class="tab-button px-4 md:px-6 py-2 rounded-lg font-semibold text-sm md:text-base"> ‚úÖ Ki·ªÉm tra </button>
     </div><!-- Flashcard Content -->
     <div id="flashcard-content">
      <div class="mb-6">
       <div class="flex justify-between items-center mb-2"><span class="text-sm font-medium">Ti·∫øn ƒë·ªô</span> <span id="card-counter" class="text-sm font-medium">1 / 15</span>
       </div>
       <div class="w-full h-3 rounded-full overflow-hidden">
        <div id="vocab-progress-bar" class="progress-bar h-full" style="width: 6.67%"></div>
       </div>
      </div>
      <div id="flashcard-container" class="flashcard">
       <div class="flashcard-inner">
        <div class="flashcard-front">
         <p class="phonetic text-2xl mb-2" id="card-phonetic-front">/Àåd íen…ôÀàre…™ É…ôn …°√¶p/</p>
         <p class="word-type text-xl mb-4" id="card-type-front" style="color: rgba(255, 255, 255, 0.9); font-style: italic;">Noun</p>
         <h2 id="card-word">generation gap</h2>
         <p class="text-lg mt-4">Nh·∫•n Space ho·∫∑c Click ƒë·ªÉ xem ƒë·ªãnh nghƒ©a</p>
        </div>
        <div class="flashcard-back">
         <h3 id="card-word-back">generation gap</h3>
         <p class="definition" id="card-definition">Kho·∫£ng c√°ch th·∫ø h·ªá - s·ª± kh√°c bi·ªát v·ªÅ quan ƒëi·ªÉm gi·ªØa c√°c th·∫ø h·ªá</p>
         <p class="example" id="card-example">Example: The generation gap between parents and teenagers often leads to conflicts.</p>
        </div>
       </div>
      </div>
      <div class="flex justify-between mt-6 md:mt-8 max-w-md mx-auto gap-4"><button id="prev-btn" class="control-button px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold text-white text-sm md:text-base flex-1"> ‚Üê L√πi </button> <button id="next-btn" class="control-button px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold text-white text-sm md:text-base flex-1"> Ti·∫øp ‚Üí </button>
      </div>
      <p class="text-center mt-4 text-sm text-gray-600">Nh·∫•n ph√≠m ‚Üê ‚Üí ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng, Space ƒë·ªÉ l·∫≠t th·∫ª</p>
     </div><!-- Vocabulary Test Content -->
     <div id="test-content" class="hidden">
      <div class="mb-6">
       <div class="flex justify-between items-center mb-2"><span class="text-sm font-medium">C√¢u h·ªèi</span> <span id="test-counter" class="text-sm font-medium">1 / 46</span>
       </div>
       <div class="w-full h-3 rounded-full overflow-hidden">
        <div id="test-progress-bar" class="progress-bar h-full" style="width: 2.17%"></div>
       </div>
      </div>
      <div class="rounded-xl p-6 md:p-8 shadow-lg mb-6">
       <h3 id="test-question" class="text-xl md:text-2xl font-bold mb-6">Choose the correct answer:</h3>
       <div id="test-options" class="space-y-3"><!-- Options will be inserted here -->
       </div>
      </div>
      <div id="test-feedback" class="rounded-xl p-4 md:p-6 shadow-lg mb-6 hidden">
       <div class="flex items-start gap-3"><span id="feedback-icon" class="text-3xl"></span>
        <div class="flex-1">
         <p id="feedback-text" class="font-bold text-lg mb-2"></p>
         <p id="feedback-explanation" class="text-sm"></p>
        </div>
       </div>
      </div>
      <div class="flex justify-between mt-6 md:mt-8 max-w-md mx-auto gap-4"><button id="test-prev-btn" class="control-button px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold text-white text-sm md:text-base flex-1"> ‚Üê C√¢u tr∆∞·ªõc </button> <button id="test-next-btn" class="control-button px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold text-white text-sm md:text-base flex-1"> C√¢u ti·∫øp ‚Üí </button>
      </div>
     </div>
    </div><!-- Stereotypes Section -->
    <div id="stereotypes-section" class="max-w-4xl mx-auto hidden">
     <div class="rounded-xl p-6 md:p-8 shadow-lg mb-6">
      <h2 class="text-2xl md:text-3xl font-bold mb-6">Common Stereotypes About Generation Gap</h2>
      <div class="space-y-6"><!-- Stereotype 1 -->
       <div class="border-l-4 border-red-500 pl-4 py-2">
        <h3 class="text-xl font-bold mb-2">‚ùå Stereotype #1: "Young people are lazy and entitled"</h3>
        <p class="mb-3 text-gray-700"><strong>The Myth:</strong> Teenagers and young adults don't want to work hard and expect everything to be handed to them.</p>
        <p class="text-green-700"><strong>‚úì The Reality:</strong> Young people today face unprecedented challenges including student debt, competitive job markets, and economic uncertainty. Many work multiple jobs while studying and are highly motivated to succeed.</p>
       </div><!-- Stereotype 2 -->
       <div class="border-l-4 border-red-500 pl-4 py-2">
        <h3 class="text-xl font-bold mb-2">‚ùå Stereotype #2: "Older generations don't understand technology"</h3>
        <p class="mb-3 text-gray-700"><strong>The Myth:</strong> Parents and grandparents are completely clueless about modern technology and social media.</p>
        <p class="text-green-700"><strong>‚úì The Reality:</strong> Many older adults are tech-savvy and adapt quickly to new technologies. They may use technology differently, but that doesn't mean they don't understand it. Age doesn't determine technological ability.</p>
       </div><!-- Stereotype 3 -->
       <div class="border-l-4 border-red-500 pl-4 py-2">
        <h3 class="text-xl font-bold mb-2">‚ùå Stereotype #3: "Teenagers are always rebellious and disrespectful"</h3>
        <p class="mb-3 text-gray-700"><strong>The Myth:</strong> All teenagers go through a phase where they reject authority and disrespect their parents.</p>
        <p class="text-green-700"><strong>‚úì The Reality:</strong> While teenagers naturally seek independence, most maintain respectful relationships with their parents. Disagreements are normal and healthy parts of development, not signs of disrespect.</p>
       </div><!-- Stereotype 4 -->
       <div class="border-l-4 border-red-500 pl-4 py-2">
        <h3 class="text-xl font-bold mb-2">‚ùå Stereotype #4: "Older people are stuck in their ways and can't change"</h3>
        <p class="mb-3 text-gray-700"><strong>The Myth:</strong> Once people reach a certain age, they become inflexible and refuse to consider new ideas.</p>
        <p class="text-green-700"><strong>‚úì The Reality:</strong> People of all ages can learn, grow, and adapt. Many older adults embrace change and new perspectives. Life experience often brings wisdom and openness, not rigidity.</p>
       </div><!-- Stereotype 5 -->
       <div class="border-l-4 border-red-500 pl-4 py-2">
        <h3 class="text-xl font-bold mb-2">‚ùå Stereotype #5: "Young people are addicted to their phones"</h3>
        <p class="mb-3 text-gray-700"><strong>The Myth:</strong> Teenagers can't function without their smartphones and are constantly distracted by social media.</p>
        <p class="text-green-700"><strong>‚úì The Reality:</strong> While young people use technology frequently, they're often using it for productive purposes like learning, connecting with friends, and organizing activities. Adults use phones just as much, but for different purposes.</p>
       </div><!-- Stereotype 6 -->
       <div class="border-l-4 border-red-500 pl-4 py-2">
        <h3 class="text-xl font-bold mb-2">‚ùå Stereotype #6: "Parents don't care about their children's feelings"</h3>
        <p class="mb-3 text-gray-700"><strong>The Myth:</strong> Older generations are emotionally distant and don't value mental health or emotional well-being.</p>
        <p class="text-green-700"><strong>‚úì The Reality:</strong> Most parents deeply care about their children's emotional health. They may express concern differently based on their own upbringing, but their love and care are genuine.</p>
       </div><!-- Key Takeaway -->
       <div class="bg-blue-50 border-2 border-blue-300 rounded-lg p-6 mt-8">
        <h3 class="text-xl font-bold mb-3">üí° Key Takeaway</h3>
        <p class="mb-3">Stereotypes about generation gaps are harmful because they:</p>
        <ul class="list-disc ml-6 space-y-2">
         <li>Create unnecessary conflict and misunderstanding</li>
         <li>Prevent genuine communication between generations</li>
         <li>Ignore individual differences within each generation</li>
         <li>Oversimplify complex social and cultural changes</li>
        </ul>
        <p class="mt-4 font-semibold">Instead of believing stereotypes, we should approach each person as an individual and build bridges through open communication, empathy, and mutual respect.</p>
       </div>
      </div>
     </div>
    </div><!-- Reading Section -->
    <div id="reading-section" class="max-w-4xl mx-auto hidden">
     <div class="rounded-xl p-6 md:p-8 shadow-lg mb-8">
      <h2 class="text-2xl md:text-3xl font-bold mb-6">B√†i ƒë·ªçc: Bridging the Generation Gap</h2>
      <div class="reading-passage mb-6">
       <p class="mb-4">The <span class="highlight">generation gap</span> has always existed, but it seems more pronounced today than ever before. Young people seek <span class="highlight" style="text-decoration: underline; font-weight: 600;">"independence"</span> and want to make their own decisions, while older generations often struggle to understand modern values and lifestyles. [I] This <span class="highlight">conflict</span> can create tension within families, but it doesn't have to be destructive.</p>
       <p class="mb-4">Many teenagers desire <span class="highlight">freedom</span> to express themselves and pursue <span class="highlight" style="text-decoration: underline; font-weight: 600;">"their"</span> dreams. They want to be <span class="highlight">self-reliant</span> and prove they can handle <span class="highlight">responsibilities</span>. However, parents worry about their children's safety and future. [II] They have more life experience and want to protect their children from making mistakes. This protective instinct sometimes comes across as being too <span class="highlight">controlling</span>.</p>
       <p class="mb-4">Communication is key to bridging this gap. Both generations need to practice <span class="highlight">empathy</span> and try to understand each other's perspectives. [III] Young people should respect their elders' wisdom and experience, while parents should not <span class="highlight" style="text-decoration: underline; font-weight: 600;">"dismiss"</span> their children's opinions and feelings. <span style="text-decoration: underline; font-weight: 600;">"Healthy communication, trust, and problem-solving skills are key to resolving disagreements."</span> When families create an environment of mutual <span class="highlight">respect</span> and open dialogue, the generation gap becomes less of a barrier and more of an opportunity for growth.</p>
       <p>Living <span class="highlight">independently</span> is an important milestone for young adults. [IV] It teaches valuable life skills like managing finances, cooking, and solving problems. While parents may find it difficult to let go, supporting their children's journey toward independence ultimately strengthens family bonds. The goal isn't to eliminate differences between generations, but to celebrate them while maintaining strong, loving relationships.</p>
      </div>
     </div><!-- Reading Quiz -->
     <div class="rounded-xl p-6 md:p-8 shadow-lg">
      <h3 class="text-xl md:text-2xl font-bold mb-6">C√¢u h·ªèi tr·∫Øc nghi·ªám</h3>
      <div id="reading-quiz-container"><!-- Questions will be inserted here -->
      </div><button id="submit-reading" class="control-button w-full mt-6 px-6 py-3 rounded-lg font-semibold text-white"> N·ªôp b√†i </button>
      <div id="reading-feedback" class="mt-4 p-4 rounded-lg hidden"></div>
     </div>
    </div><!-- Grammar Section -->
    <div id="grammar-section" class="max-w-4xl mx-auto hidden">
     <div class="space-y-4 md:space-y-6"><!-- Grammar Topics -->
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="present-simple"> <h3 class="text-lg md:text-2xl font-bold">Present Simple</h3><span class="text-2xl">+</span> </button>
       <div id="present-simple" class="grammar-content mt-4">
        <p class="mb-4"><strong>C·∫•u tr√∫c:</strong></p>
        <ul class="list-disc ml-6 mb-4">
         <li>Kh·∫≥ng ƒë·ªãnh: S + V(s/es)</li>
         <li>Ph·ªß ƒë·ªãnh: S + do/does + not + V</li>
         <li>Nghi v·∫•n: Do/Does + S + V?</li>
        </ul>
        <p class="mb-4"><strong>C√°ch d√πng:</strong> Di·ªÖn t·∫£ th√≥i quen, s·ª± th·∫≠t hi·ªÉn nhi√™n, l·ªãch tr√¨nh c·ªë ƒë·ªãnh</p>
        <div class="p-4 rounded-lg mt-4">
         <p class="mb-2"><span class="highlight">Example:</span> Teenagers often disagree with their parents.</p>
         <p><span class="highlight">Example:</span> My grandmother doesn't understand social media.</p>
        </div>
       </div>
      </div>
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="present-continuous"> <h3 class="text-lg md:text-2xl font-bold">Present Continuous</h3><span class="text-2xl">+</span> </button>
       <div id="present-continuous" class="grammar-content mt-4">
        <p class="mb-4"><strong>C·∫•u tr√∫c:</strong></p>
        <ul class="list-disc ml-6 mb-4">
         <li>Kh·∫≥ng ƒë·ªãnh: S + am/is/are + V-ing</li>
         <li>Ph·ªß ƒë·ªãnh: S + am/is/are + not + V-ing</li>
         <li>Nghi v·∫•n: Am/Is/Are + S + V-ing?</li>
        </ul>
        <p class="mb-4"><strong>C√°ch d√πng:</strong> Di·ªÖn t·∫£ h√†nh ƒë·ªông ƒëang x·∫£y ra, k·∫ø ho·∫°ch t∆∞∆°ng lai g·∫ßn</p>
        <div class="p-4 rounded-lg mt-4">
         <p class="mb-2"><span class="highlight">Example:</span> I am learning to be more independent.</p>
         <p><span class="highlight">Example:</span> My parents are trying to understand my perspective.</p>
        </div>
       </div>
      </div>
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="stative-verbs"> <h3 class="text-lg md:text-2xl font-bold">Stative Verbs</h3><span class="text-2xl">+</span> </button>
       <div id="stative-verbs" class="grammar-content mt-4">
        <p class="mb-4"><strong>ƒê·ªãnh nghƒ©a:</strong> ƒê·ªông t·ª´ ch·ªâ tr·∫°ng th√°i, kh√¥ng d√πng ·ªü th√¨ ti·∫øp di·ªÖn</p>
        <p class="mb-4"><strong>C√°c nh√≥m:</strong></p>
        <ul class="list-disc ml-6 mb-4">
         <li>C·∫£m x√∫c: love, hate, like, prefer, want</li>
         <li>Suy nghƒ©: know, believe, understand, remember</li>
         <li>S·ªü h·ªØu: have, own, belong, possess</li>
         <li>Gi√°c quan: see, hear, smell, taste</li>
        </ul>
        <div class="p-4 rounded-lg mt-4">
         <p class="mb-2"><span class="highlight">Correct:</span> I understand your concerns.</p>
         <p class="mb-2"><span class="highlight">Incorrect:</span> I am understanding your concerns.</p>
         <p><span class="highlight">Example:</span> She wants more freedom.</p>
        </div>
       </div>
      </div>
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="linking-verbs"> <h3 class="text-lg md:text-2xl font-bold">Linking Verbs</h3><span class="text-2xl">+</span> </button>
       <div id="linking-verbs" class="grammar-content mt-4">
        <p class="mb-4"><strong>ƒê·ªãnh nghƒ©a:</strong> ƒê·ªông t·ª´ n·ªëi ch·ªß ng·ªØ v·ªõi t√≠nh t·ª´/danh t·ª´ b·ªï nghƒ©a</p>
        <p class="mb-4"><strong>C√°c linking verbs ph·ªï bi·∫øn:</strong> be, become, seem, appear, look, sound, feel, taste, smell, remain, stay</p>
        <div class="p-4 rounded-lg mt-4">
         <p class="mb-2"><span class="highlight">Example:</span> My parents seem worried about my future.</p>
         <p class="mb-2"><span class="highlight">Example:</span> Independence feels liberating.</p>
         <p><span class="highlight">Example:</span> The situation remains tense.</p>
        </div>
       </div>
      </div>
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="compound-sentence"> <h3 class="text-lg md:text-2xl font-bold">Compound Sentences</h3><span class="text-2xl">+</span> </button>
       <div id="compound-sentence" class="grammar-content mt-4">
        <p class="mb-4"><strong>C·∫•u tr√∫c:</strong> C√¢u gh√©p = M·ªánh ƒë·ªÅ 1 + li√™n t·ª´ + M·ªánh ƒë·ªÅ 2</p>
        <p class="mb-4"><strong>Li√™n t·ª´:</strong> and, but, or, so, for, yet, nor</p>
        <div class="p-4 rounded-lg mt-4">
         <p class="mb-2"><span class="highlight">Example:</span> I want independence, but I also need my parents' support.</p>
         <p class="mb-2"><span class="highlight">Example:</span> Teenagers seek freedom, and parents want safety.</p>
         <p><span class="highlight">Example:</span> We can argue, or we can find a compromise.</p>
        </div>
       </div>
      </div>
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="negative-inversion"> <h3 class="text-lg md:text-2xl font-bold">ƒê·∫£o ng·ªØ ph·ªß ƒë·ªãnh</h3><span class="text-2xl">+</span> </button>
       <div id="negative-inversion" class="grammar-content mt-4">
        <p class="mb-4"><strong>C·∫•u tr√∫c:</strong> Tr·∫°ng t·ª´ ph·ªß ƒë·ªãnh + tr·ª£ ƒë·ªông t·ª´ + S + V</p>
        <p class="mb-4"><strong>C√°c t·ª´:</strong> Never, Rarely, Seldom, Hardly, Scarcely, Not only, Little</p>
        <div class="p-4 rounded-lg mt-4">
         <p class="mb-2"><span class="highlight">Normal:</span> I have never seen such a big generation gap.</p>
         <p class="mb-2"><span class="highlight">Inversion:</span> Never have I seen such a big generation gap.</p>
         <p><span class="highlight">Example:</span> Rarely do parents and teenagers agree on everything.</p>
        </div>
       </div>
      </div>
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="no-inversion"> <h3 class="text-lg md:text-2xl font-bold">ƒê·∫£o ng·ªØ v·ªõi No</h3><span class="text-2xl">+</span> </button>
       <div id="no-inversion" class="grammar-content mt-4">
        <p class="mb-4"><strong>C·∫•u tr√∫c:</strong> No + N + tr·ª£ ƒë·ªông t·ª´ + S + V</p>
        <p class="mb-4"><strong>C√°c c·ª•m t·ª´:</strong> No sooner, At no time, Under no circumstances, On no account</p>
        <div class="p-4 rounded-lg mt-4">
         <p class="mb-2"><span class="highlight">Example:</span> No sooner had I left home than I missed my family.</p>
         <p class="mb-2"><span class="highlight">Example:</span> At no time did my parents stop supporting me.</p>
         <p><span class="highlight">Example:</span> Under no circumstances should you give up your dreams.</p>
        </div>
       </div>
      </div><!-- Comprehensive Test -->
      <div class="rounded-xl p-4 md:p-6 shadow-lg"><button class="grammar-toggle w-full text-left flex justify-between items-center" data-target="comprehensive-test"> <h3 class="text-lg md:text-2xl font-bold">B√†i t·∫≠p t·ªïng h·ª£p (30 c√¢u)</h3><span class="text-2xl">+</span> </button>
       <div id="comprehensive-test" class="grammar-content mt-4">
        <div class="mb-6">
         <div class="flex justify-between items-center mb-2"><span class="text-sm font-medium">C√¢u h·ªèi</span> <span id="grammar-counter" class="text-sm font-medium">1 / 30</span>
         </div>
         <div class="w-full h-3 rounded-full overflow-hidden">
          <div id="grammar-progress-bar" class="progress-bar h-full" style="width: 3.33%"></div>
         </div>
        </div>
        <div id="grammar-quiz-container" class="rounded-xl p-6 md:p-8 shadow-lg mb-6">
         <h3 id="grammar-question" class="text-xl md:text-2xl font-bold mb-6"></h3>
         <div id="grammar-options" class="space-y-3"><!-- Options will be inserted here -->
         </div>
        </div>
        <div id="grammar-feedback-box" class="rounded-xl p-4 md:p-6 shadow-lg mb-6 hidden">
         <div class="flex items-start gap-3"><span id="grammar-feedback-icon" class="text-3xl"></span>
          <div class="flex-1">
           <p id="grammar-feedback-text" class="font-bold text-lg mb-2"></p>
           <p id="grammar-feedback-explanation" class="text-sm"></p>
          </div>
         </div>
        </div>
        <div class="flex justify-between mt-6 md:mt-8 max-w-md mx-auto gap-4"><button id="grammar-prev-btn" class="control-button px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold text-white text-sm md:text-base flex-1"> ‚Üê C√¢u tr∆∞·ªõc </button> <button id="grammar-next-btn" class="control-button px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold text-white text-sm md:text-base flex-1"> C√¢u ti·∫øp ‚Üí </button>
        </div>
       </div>
      </div>
     </div>
    </div>
   </main>
  </div>
  <script>
    const defaultConfig = {
      background_color: "#f0f9ff",
      surface_color: "#ffffff",
      text_color: "#1e293b",
      primary_action_color: "#3b82f6",
      secondary_action_color: "#8b5cf6",
      unit_title: "Unit 1: Generation Gap and Independence Life",
      total_progress_label: "T·ªïng ti·∫øn ƒë·ªô",
      vocab_progress_label: "T·ª´ v·ª±ng",
      reading_progress_label: "B√†i ƒë·ªçc",
      grammar_progress_label: "Ng·ªØ ph√°p",
      vocabulary_tab: "üìö T·ª´ v·ª±ng",
      reading_tab: "üìñ B√†i ƒë·ªçc",
      grammar_tab: "‚úèÔ∏è Ng·ªØ ph√°p",
      home_button: "üè† Trang ch·ªß"
    };

    let currentCardIndex = 0;
    let currentTestIndex = 0;
    let currentGrammarIndex = 0;
    let userProgress = null;
    let readingAnswers = {};
    let grammarAnswers = {};
    let vocabularyTestAnswers = {};

    // Sound effects using Web Audio API
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    function playCorrectSound() {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
      oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
      oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
      
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.5);
    }
    
    function playIncorrectSound() {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
      oscillator.frequency.setValueAtTime(150, audioContext.currentTime + 0.1);
      
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.3);
    }

    const vocabularyCards = [
      {
        word: "generation gap",
        phonetic: "/Àåd íen…ôÀàre…™ É…ôn …°√¶p/",
        type: "Noun",
        definition: "Kho·∫£ng c√°ch th·∫ø h·ªá - s·ª± kh√°c bi·ªát v·ªÅ quan ƒëi·ªÉm gi·ªØa c√°c th·∫ø h·ªá",
        example: "The generation gap between parents and teenagers often leads to conflicts."
      },
      {
        word: "independence",
        phonetic: "/Àå…™nd…™Ààpend…ôns/",
        type: "Noun",
        definition: "S·ª± ƒë·ªôc l·∫≠p - kh·∫£ nƒÉng t·ª± ch·ªß kh√¥ng ph·ª• thu·ªôc v√†o ng∆∞·ªùi kh√°c",
        example: "Living alone teaches you independence and responsibility."
      },
      {
        word: "teenager",
        phonetic: "/ÀàtiÀêne…™d í…ô(r)/",
        type: "Noun",
        definition: "Thanh thi·∫øu ni√™n - ng∆∞·ªùi t·ª´ 13 ƒë·∫øn 19 tu·ªïi",
        example: "Teenagers often want more freedom from their parents."
      },
      {
        word: "self-reliant",
        phonetic: "/Àåself r…™Ààla…™…ônt/",
        type: "Adjective",
        definition: "T·ª± l·ª±c - c√≥ kh·∫£ nƒÉng t·ª± lo li·ªáu cho b·∫£n th√¢n",
        example: "Being self-reliant is an important life skill for young adults."
      },
      {
        word: "strict",
        phonetic: "/str…™kt/",
        type: "Adjective",
        definition: "Nghi√™m kh·∫Øc - ƒë√≤i h·ªèi tu√¢n th·ªß quy t·∫Øc m·ªôt c√°ch ch·∫∑t ch·∫Ω",
        example: "My parents are very strict about my curfew time."
      },
      {
        word: "argument",
        phonetic: "/Àà…ëÀê…°jum…ônt/",
        type: "Noun",
        definition: "Cu·ªôc tranh c√£i - s·ª± b·∫•t ƒë·ªìng quan ƒëi·ªÉm gay g·∫Øt",
        example: "We had an argument about my pocket money yesterday."
      },
      {
        word: "complain",
        phonetic: "/k…ômÀàple…™n/",
        type: "Verb",
        definition: "Than phi·ªÅn - b√†y t·ªè s·ª± kh√¥ng h√†i l√≤ng",
        example: "My grandmother always complains about modern technology."
      },
      {
        word: "relationship",
        phonetic: "/r…™Ààle…™ Én É…™p/",
        type: "Noun",
        definition: "M·ªëi quan h·ªá - s·ª± k·∫øt n·ªëi gi·ªØa ng∆∞·ªùi v·ªõi ng∆∞·ªùi",
        example: "A good relationship with parents requires communication."
      },
      {
        word: "independent",
        phonetic: "/Àå…™nd…™Ààpend…ônt/",
        type: "Adjective",
        definition: "ƒê·ªôc l·∫≠p - kh√¥ng ph·ª• thu·ªôc v√†o ng∆∞·ªùi kh√°c",
        example: "She became more independent after moving to university."
      },
      {
        word: "technology",
        phonetic: "/tekÀàn…íl…ôd íi/",
        type: "Noun",
        definition: "C√¥ng ngh·ªá - ·ª©ng d·ª•ng khoa h·ªçc v√†o th·ª±c ti·ªÖn",
        example: "Modern technology has changed how teenagers communicate."
      },
      {
        word: "old-fashioned",
        phonetic: "/Àå…ô äld Ààf√¶ Énd/",
        type: "Adjective",
        definition: "L·ªói th·ªùi - thu·ªôc v·ªÅ qu√° kh·ª©, kh√¥ng c√≤n ph·ªï bi·∫øn",
        example: "My parents have some old-fashioned ideas about dating."
      },
      {
        word: "trend",
        phonetic: "/trend/",
        type: "Noun",
        definition: "Xu h∆∞·ªõng - ƒëi·ªÅu ƒëang th·ªãnh h√†nh trong m·ªôt th·ªùi k·ª≥",
        example: "Following fashion trends is important to many teenagers."
      },
      {
        word: "rules",
        phonetic: "/ruÀêlz/",
        type: "Noun",
        definition: "Quy t·∫Øc - nh·ªØng nguy√™n t·∫Øc c·∫ßn tu√¢n theo",
        example: "Every family has different rules about using smartphones."
      },
      {
        word: "pocket money",
        phonetic: "/Ààp…ík…™t Àåm åni/",
        type: "Noun",
        definition: "Ti·ªÅn ti√™u v·∫∑t - s·ªë ti·ªÅn cho con ƒë·ªÉ chi ti√™u c√° nh√¢n",
        example: "I receive pocket money every week for doing chores."
      },
      {
        word: "reliable",
        phonetic: "/r…™Ààla…™…ôbl/",
        type: "Adjective",
        definition: "ƒê√°ng tin c·∫≠y - c√≥ th·ªÉ tin t∆∞·ªüng v√† ph·ª• thu·ªôc v√†o",
        example: "My older sister is very reliable and always keeps her promises."
      },
      {
        word: "worried",
        phonetic: "/Ààw årid/",
        type: "Adjective",
        definition: "Lo l·∫Øng - c·∫£m th·∫•y b·∫•t an v·ªÅ ƒëi·ªÅu g√¨ ƒë√≥",
        example: "Parents are often worried about their children's safety."
      },
      {
        word: "therefore",
        phonetic: "/Àà√∞e…ôf…îÀê(r)/",
        type: "Adverb",
        definition: "Do ƒë√≥ - v√¨ v·∫≠y, v√¨ l√Ω do ƒë√≥",
        example: "I studied hard; therefore, I passed the exam."
      },
      {
        word: "argue",
        phonetic: "/Àà…ëÀê…°juÀê/",
        type: "Verb",
        definition: "Tranh lu·∫≠n - b√†y t·ªè √Ω ki·∫øn b·∫•t ƒë·ªìng",
        example: "Teenagers often argue with their parents about freedom."
      },
      {
        word: "completely",
        phonetic: "/k…ômÀàpliÀêtli/",
        type: "Adverb",
        definition: "Ho√†n to√†n - m·ªôt c√°ch tr·ªçn v·∫πn, to√†n b·ªô",
        example: "I completely understand your point of view."
      },
      {
        word: "easy-going",
        phonetic: "/ÀåiÀêzi Àà…°…ô ä…™≈ã/",
        type: "Adjective",
        definition: "D·ªÖ t√≠nh - tho·∫£i m√°i, kh√¥ng kh·∫Øt khe",
        example: "My father is more easy-going than my mother."
      },
      {
        word: "generation",
        phonetic: "/Àåd íen…ôÀàre…™ Én/",
        type: "Noun",
        definition: "Th·∫ø h·ªá - nh√≥m ng∆∞·ªùi sinh trong c√πng th·ªùi k·ª≥",
        example: "Each generation has its own values and beliefs."
      },
      {
        word: "laundry",
        phonetic: "/Ààl…îÀêndri/",
        type: "Noun",
        definition: "Gi·∫∑t gi≈© - c√¥ng vi·ªác gi·∫∑t qu·∫ßn √°o",
        example: "I do my own laundry every weekend."
      },
      {
        word: "manner",
        phonetic: "/Ààm√¶n…ô(r)/",
        type: "Noun",
        definition: "C√°ch c∆∞ x·ª≠ - phong c√°ch ·ª©ng x·ª≠ v·ªõi ng∆∞·ªùi kh√°c",
        example: "Good manners are important in social situations."
      },
      {
        word: "nag",
        phonetic: "/n√¶…°/",
        type: "Verb",
        definition: "C√†u nh√†u - li√™n t·ª•c nh·∫Øc nh·ªü m·ªôt c√°ch kh√≥ ch·ªãu",
        example: "My mom nags me about cleaning my room every day."
      },
      {
        word: "rely",
        phonetic: "/r…™Ààla…™/",
        type: "Verb",
        definition: "D·ª±a v√†o - tin t∆∞·ªüng v√† ph·ª• thu·ªôc v√†o ai/c√°i g√¨",
        example: "You can rely on me to help you with homework."
      },
      {
        word: "dishwasher",
        phonetic: "/Ààd…™ Éw…í É…ô(r)/",
        type: "Noun",
        definition: "M√°y r·ª≠a b√°t - thi·∫øt b·ªã t·ª± ƒë·ªông r·ª≠a ch√©n ƒëƒ©a",
        example: "We bought a new dishwasher to save time."
      },
      {
        word: "furniture",
        phonetic: "/Ààf…úÀên…™t É…ô(r)/",
        type: "Noun",
        definition: "ƒê·ªì n·ªôi th·∫•t - b√†n gh·∫ø v√† ƒë·ªì d√πng trong nh√†",
        example: "They bought new furniture for their apartment."
      },
      {
        word: "sporting event",
        phonetic: "/Ààsp…îÀêt…™≈ã …™Ààvent/",
        type: "Noun",
        definition: "S·ª± ki·ªán th·ªÉ thao - cu·ªôc thi ƒë·∫•u th·ªÉ thao",
        example: "We attended a sporting event at the stadium last weekend."
      },
      {
        word: "build robots",
        phonetic: "/b…™ld Ààr…ô äb…íts/",
        type: "Verb phrase",
        definition: "Ch·∫ø t·∫°o robot - t·∫°o ra ng∆∞·ªùi m√°y",
        example: "My brother loves to build robots in his free time."
      },
      {
        word: "carry out",
        phonetic: "/Ààk√¶ri a ät/",
        type: "Phrasal verb",
        definition: "Th·ª±c hi·ªán - ti·∫øn h√†nh l√†m ƒëi·ªÅu g√¨ ƒë√≥",
        example: "We need to carry out this plan carefully."
      },
      {
        word: "difficult",
        phonetic: "/Ààd…™f…™k…ôlt/",
        type: "Adjective",
        definition: "Kh√≥ khƒÉn - kh√¥ng d·ªÖ d√†ng th·ª±c hi·ªán",
        example: "It's difficult to balance independence and family expectations."
      },
      {
        word: "power",
        phonetic: "/Ààpa ä…ô(r)/",
        type: "Noun",
        definition: "Quy·ªÅn l·ª±c - kh·∫£ nƒÉng ki·ªÉm so√°t ho·∫∑c ·∫£nh h∆∞·ªüng",
        example: "Parents have the power to set rules in the house."
      },
      {
        word: "fairly",
        phonetic: "/Ààfe…ôli/",
        type: "Adverb",
        definition: "Kh√° - ·ªü m·ª©c ƒë·ªô v·ª´a ph·∫£i",
        example: "I'm fairly good at managing my time."
      },
      {
        word: "technological",
        phonetic: "/Àåtekn…ôÀàl…íd í…™kl/",
        type: "Adjective",
        definition: "Thu·ªôc v·ªÅ c√¥ng ngh·ªá - li√™n quan ƒë·∫øn k·ªπ thu·∫≠t",
        example: "We live in a technological age with smartphones everywhere."
      },
      {
        word: "complaint",
        phonetic: "/k…ômÀàple…™nt/",
        type: "Noun",
        definition: "L·ªùi ph√†n n√†n - s·ª± b√†y t·ªè kh√¥ng h√†i l√≤ng",
        example: "The teacher received many complaints about homework."
      },
      {
        word: "rug",
        phonetic: "/r å…°/",
        type: "Noun",
        definition: "T·∫•m th·∫£m - mi·∫øng v·∫£i tr·∫£i s√†n",
        example: "We have a beautiful rug in the living room."
      },
      {
        word: "set",
        phonetic: "/set/",
        type: "Verb",
        definition: "ƒê·∫∑t ra - thi·∫øt l·∫≠p quy t·∫Øc ho·∫∑c m·ª•c ti√™u",
        example: "Parents set rules to keep their children safe."
      },
      {
        word: "skating",
        phonetic: "/Ààske…™t…™≈ã/",
        type: "Noun",
        definition: "Tr∆∞·ª£t bƒÉng/patin - m√¥n th·ªÉ thao tr∆∞·ª£t tr√™n bƒÉng ho·∫∑c ƒë∆∞·ªùng",
        example: "Ice skating is a popular winter activity."
      },
      {
        word: "afterward",
        phonetic: "/Àà…ëÀêft…ôw…ôd/",
        type: "Adverb",
        definition: "Sau ƒë√≥ - ·ªü th·ªùi ƒëi·ªÉm sau m·ªôt s·ª± ki·ªán",
        example: "We had dinner and went to the cinema afterward."
      },
      {
        word: "complete",
        phonetic: "/k…ômÀàpliÀêt/",
        type: "Verb/Adjective",
        definition: "Ho√†n th√†nh - l√†m xong ho·∫∑c ƒë·∫ßy ƒë·ªß",
        example: "I need to complete my homework before dinner."
      },
      {
        word: "nap",
        phonetic: "/n√¶p/",
        type: "Noun/Verb",
        definition: "Gi·∫•c ng·ªß ng·∫Øn - ng·ªß m·ªôt ch√∫t trong ng√†y",
        example: "My grandmother takes a nap every afternoon."
      },
      {
        word: "news",
        phonetic: "/njuÀêz/",
        type: "Noun",
        definition: "Tin t·ª©c - th√¥ng tin v·ªÅ s·ª± ki·ªán hi·ªán t·∫°i",
        example: "My parents watch the news every evening."
      },
      {
        word: "powerless",
        phonetic: "/Ààpa ä…ôl…ôs/",
        type: "Adjective",
        definition: "B·∫•t l·ª±c - kh√¥ng c√≥ kh·∫£ nƒÉng l√†m g√¨",
        example: "Teenagers sometimes feel powerless in family decisions."
      },
      {
        word: "technologically",
        phonetic: "/Àåtekn…ôÀàl…íd í…™kli/",
        type: "Adverb",
        definition: "V·ªÅ m·∫∑t c√¥ng ngh·ªá - theo c√°ch li√™n quan ƒë·∫øn k·ªπ thu·∫≠t",
        example: "Society is advancing technologically very fast."
      },
      {
        word: "powerlessness",
        phonetic: "/Ààpa ä…ôl…ôsn…ôs/",
        type: "Noun",
        definition: "S·ª± b·∫•t l·ª±c - tr·∫°ng th√°i kh√¥ng c√≥ quy·ªÅn l·ª±c",
        example: "The feeling of powerlessness can be frustrating for teens."
      },
      {
        word: "carry on",
        phonetic: "/Ààk√¶ri …ín/",
        type: "Phrasal verb",
        definition: "Ti·∫øp t·ª•c - duy tr√¨ l√†m ƒëi·ªÅu g√¨ ƒë√≥",
        example: "We must carry on with our studies despite difficulties."
      }
    ];

    const readingQuestions = [
      {
        question: "1. The word \"independence\" in paragraph 1 is CLOSEST in meaning to ________________.",
        options: ["A. self-reliance", "B. attention", "C. patience", "D. guidance"],
        correct: 0
      },
      {
        question: "2. What does the word \"their\" in paragraph 2 refer to?",
        options: ["A. parents'", "B. teenagers'", "C. disagreements'", "D. teachers'"],
        correct: 1
      },
      {
        question: "3. The word \"dismiss\" in paragraph 3 is OPPOSITE in meaning to ________________.",
        options: ["A. ignore", "B. refuse", "C. respect", "D. confuse"],
        correct: 2
      },
      {
        question: "4. In which paragraph does the writer explain how parents and teens can manage conflicts?",
        options: ["A. Paragraph 1", "B. Paragraph 2", "C. Paragraph 3", "D. Paragraph 4"],
        correct: 2
      },
      {
        question: "5. Where in the passage does the following sentence best fit?\n\"This can hide deeper emotions and prevent healthy communication.\"",
        options: ["A. [I]", "B. [II]", "C. [III]", "D. [IV]"],
        correct: 1
      },
      {
        question: "6. Which of the following is TRUE according to the passage?",
        options: [
          "A. Conflicts between parents and teens always harm relationships.",
          "B. Young people want to be self-reliant and handle responsibilities.",
          "C. Parents should eliminate all differences between generations.",
          "D. Living independently weakens family bonds."
        ],
        correct: 1
      },
      {
        question: "7. Which of the following best paraphrases the underlined sentence in paragraph 3?\n\"Healthy communication, trust, and problem-solving skills are key to resolving disagreements.\"",
        options: [
          "A. Understanding, honesty, and cooperation help families handle conflicts effectively.",
          "B. Not until parents are healthy that unnecessary arguments can be solved.",
          "C. Disagreements can be solved only if teenagers completely obey their parents.",
          "D. Good communication makes all family problems disappear immediately."
        ],
        correct: 0
      },
      {
        question: "8. Which can be inferred from the passage?",
        options: [
          "A. Parents should try to stop all conflicts between themselves and their children.",
          "B. The generation gap only exists in modern times and not in the past.",
          "C. Teenagers' emotional problems are mainly caused by their school performance.",
          "D. Open and respectful communication can turn conflicts into chances for growth."
        ],
        correct: 3
      }
    ];

    const vocabularyTestQuestions = [
      {
        question: "What does 'generation gap' mean?",
        options: ["A. Kho·∫£ng c√°ch ƒë·ªãa l√Ω", "B. Kho·∫£ng c√°ch th·∫ø h·ªá", "C. Kho·∫£ng c√°ch th·ªùi gian", "D. Kho·∫£ng c√°ch vƒÉn h√≥a"],
        correct: 1,
        explanation: "Generation gap = Kho·∫£ng c√°ch th·∫ø h·ªá - s·ª± kh√°c bi·ªát v·ªÅ quan ƒëi·ªÉm gi·ªØa c√°c th·∫ø h·ªá"
      },
      {
        question: "Choose the correct definition of 'independence':",
        options: ["A. S·ª± ph·ª• thu·ªôc", "B. S·ª± ƒë·ªôc l·∫≠p", "C. S·ª± t·ª± do", "D. S·ª± ri√™ng t∆∞"],
        correct: 1,
        explanation: "Independence = S·ª± ƒë·ªôc l·∫≠p - kh·∫£ nƒÉng t·ª± ch·ªß kh√¥ng ph·ª• thu·ªôc v√†o ng∆∞·ªùi kh√°c"
      },
      {
        question: "A person aged 13-19 is called a _____.",
        options: ["A. child", "B. teenager", "C. adult", "D. senior"],
        correct: 1,
        explanation: "Teenager = Thanh thi·∫øu ni√™n - ng∆∞·ªùi t·ª´ 13 ƒë·∫øn 19 tu·ªïi"
      },
      {
        question: "'Self-reliant' means:",
        options: ["A. T·ª± tin", "B. T·ª± l·ª±c", "C. T·ª± do", "D. T·ª± nhi√™n"],
        correct: 1,
        explanation: "Self-reliant = T·ª± l·ª±c - c√≥ kh·∫£ nƒÉng t·ª± lo li·ªáu cho b·∫£n th√¢n"
      },
      {
        question: "If parents are 'strict', they are:",
        options: ["A. D·ªÖ t√≠nh", "B. Nghi√™m kh·∫Øc", "C. Vui v·∫ª", "D. Bu·ªìn b√£"],
        correct: 1,
        explanation: "Strict = Nghi√™m kh·∫Øc - ƒë√≤i h·ªèi tu√¢n th·ªß quy t·∫Øc m·ªôt c√°ch ch·∫∑t ch·∫Ω"
      },
      {
        question: "An 'argument' is:",
        options: ["A. Cu·ªôc tr√≤ chuy·ªán", "B. Cu·ªôc tranh c√£i", "C. Cu·ªôc h·ªçp", "D. Cu·ªôc th·∫£o lu·∫≠n"],
        correct: 1,
        explanation: "Argument = Cu·ªôc tranh c√£i - s·ª± b·∫•t ƒë·ªìng quan ƒëi·ªÉm gay g·∫Øt"
      },
      {
        question: "To 'complain' means:",
        options: ["A. Khen ng·ª£i", "B. Than phi·ªÅn", "C. Gi·∫£i th√≠ch", "D. H·ªèi han"],
        correct: 1,
        explanation: "Complain = Than phi·ªÅn - b√†y t·ªè s·ª± kh√¥ng h√†i l√≤ng"
      },
      {
        question: "A 'relationship' is:",
        options: ["A. M·ªëi quan h·ªá", "B. T√¨nh b·∫°n", "C. Gia ƒë√¨nh", "D. T√¨nh y√™u"],
        correct: 0,
        explanation: "Relationship = M·ªëi quan h·ªá - s·ª± k·∫øt n·ªëi gi·ªØa ng∆∞·ªùi v·ªõi ng∆∞·ªùi"
      },
      {
        question: "'Independent' means:",
        options: ["A. Ph·ª• thu·ªôc", "B. ƒê·ªôc l·∫≠p", "C. T·ª± do", "D. Ri√™ng t∆∞"],
        correct: 1,
        explanation: "Independent = ƒê·ªôc l·∫≠p - kh√¥ng ph·ª• thu·ªôc v√†o ng∆∞·ªùi kh√°c"
      },
      {
        question: "'Technology' refers to:",
        options: ["A. Khoa h·ªçc", "B. C√¥ng ngh·ªá", "C. K·ªπ thu·∫≠t", "D. M√°y m√≥c"],
        correct: 1,
        explanation: "Technology = C√¥ng ngh·ªá - ·ª©ng d·ª•ng khoa h·ªçc v√†o th·ª±c ti·ªÖn"
      },
      {
        question: "Something 'old-fashioned' is:",
        options: ["A. Hi·ªán ƒë·∫°i", "B. L·ªói th·ªùi", "C. M·ªõi m·∫ª", "D. Ph·ªï bi·∫øn"],
        correct: 1,
        explanation: "Old-fashioned = L·ªói th·ªùi - thu·ªôc v·ªÅ qu√° kh·ª©, kh√¥ng c√≤n ph·ªï bi·∫øn"
      },
      {
        question: "A 'trend' is:",
        options: ["A. Quy t·∫Øc", "B. Xu h∆∞·ªõng", "C. Th√≥i quen", "D. Truy·ªÅn th·ªëng"],
        correct: 1,
        explanation: "Trend = Xu h∆∞·ªõng - ƒëi·ªÅu ƒëang th·ªãnh h√†nh trong m·ªôt th·ªùi k·ª≥"
      },
      {
        question: "'Rules' are:",
        options: ["A. L·ªùi khuy√™n", "B. Quy t·∫Øc", "C. √ù ki·∫øn", "D. ƒê·ªÅ ngh·ªã"],
        correct: 1,
        explanation: "Rules = Quy t·∫Øc - nh·ªØng nguy√™n t·∫Øc c·∫ßn tu√¢n theo"
      },
      {
        question: "'Pocket money' is:",
        options: ["A. Ti·ªÅn l∆∞∆°ng", "B. Ti·ªÅn ti√™u v·∫∑t", "C. Ti·ªÅn ti·∫øt ki·ªám", "D. Ti·ªÅn th∆∞·ªüng"],
        correct: 1,
        explanation: "Pocket money = Ti·ªÅn ti√™u v·∫∑t - s·ªë ti·ªÅn cho con ƒë·ªÉ chi ti√™u c√° nh√¢n"
      },
      {
        question: "Someone 'reliable' is:",
        options: ["A. ƒê√°ng tin c·∫≠y", "B. ƒê√°ng y√™u", "C. ƒê√°ng s·ª£", "D. ƒê√°ng th∆∞∆°ng"],
        correct: 0,
        explanation: "Reliable = ƒê√°ng tin c·∫≠y - c√≥ th·ªÉ tin t∆∞·ªüng v√† ph·ª• thu·ªôc v√†o"
      },
      {
        question: "If you are 'worried', you feel:",
        options: ["A. Vui v·∫ª", "B. Lo l·∫Øng", "C. T·ª©c gi·∫≠n", "D. Bu·ªìn b√£"],
        correct: 1,
        explanation: "Worried = Lo l·∫Øng - c·∫£m th·∫•y b·∫•t an v·ªÅ ƒëi·ªÅu g√¨ ƒë√≥"
      },
      {
        question: "'Therefore' means:",
        options: ["A. Tuy nhi√™n", "B. Do ƒë√≥", "C. B·ªüi v√¨", "D. M·∫∑c d√π"],
        correct: 1,
        explanation: "Therefore = Do ƒë√≥ - v√¨ v·∫≠y, v√¨ l√Ω do ƒë√≥"
      },
      {
        question: "To 'argue' means:",
        options: ["A. ƒê·ªìng √Ω", "B. Tranh lu·∫≠n", "C. Th·∫£o lu·∫≠n", "D. Tr√≤ chuy·ªán"],
        correct: 1,
        explanation: "Argue = Tranh lu·∫≠n - b√†y t·ªè √Ω ki·∫øn b·∫•t ƒë·ªìng"
      },
      {
        question: "'Completely' means:",
        options: ["A. M·ªôt ph·∫ßn", "B. Ho√†n to√†n", "C. G·∫ßn nh∆∞", "D. C√≥ th·ªÉ"],
        correct: 1,
        explanation: "Completely = Ho√†n to√†n - m·ªôt c√°ch tr·ªçn v·∫πn, to√†n b·ªô"
      },
      {
        question: "An 'easy-going' person is:",
        options: ["A. Kh√≥ t√≠nh", "B. D·ªÖ t√≠nh", "C. Nghi√™m kh·∫Øc", "D. C·∫©n th·∫≠n"],
        correct: 1,
        explanation: "Easy-going = D·ªÖ t√≠nh - tho·∫£i m√°i, kh√¥ng kh·∫Øt khe"
      },
      {
        question: "A 'generation' is:",
        options: ["A. Gia ƒë√¨nh", "B. Th·∫ø h·ªá", "C. Nh√≥m ng∆∞·ªùi", "D. C·ªông ƒë·ªìng"],
        correct: 1,
        explanation: "Generation = Th·∫ø h·ªá - nh√≥m ng∆∞·ªùi sinh trong c√πng th·ªùi k·ª≥"
      },
      {
        question: "'Laundry' refers to:",
        options: ["A. N·∫•u ƒÉn", "B. Gi·∫∑t gi≈©", "C. D·ªçn d·∫πp", "D. Mua s·∫Øm"],
        correct: 1,
        explanation: "Laundry = Gi·∫∑t gi≈© - c√¥ng vi·ªác gi·∫∑t qu·∫ßn √°o"
      },
      {
        question: "'Manner' means:",
        options: ["A. C√°ch n√≥i", "B. C√°ch c∆∞ x·ª≠", "C. C√°ch nghƒ©", "D. C√°ch h·ªçc"],
        correct: 1,
        explanation: "Manner = C√°ch c∆∞ x·ª≠ - phong c√°ch ·ª©ng x·ª≠ v·ªõi ng∆∞·ªùi kh√°c"
      },
      {
        question: "To 'nag' means:",
        options: ["A. Khen ng·ª£i", "B. C√†u nh√†u", "C. Gi√∫p ƒë·ª°", "D. H·ªèi han"],
        correct: 1,
        explanation: "Nag = C√†u nh√†u - li√™n t·ª•c nh·∫Øc nh·ªü m·ªôt c√°ch kh√≥ ch·ªãu"
      },
      {
        question: "To 'rely' on someone means:",
        options: ["A. Gh√©t", "B. D·ª±a v√†o", "C. Y√™u", "D. Hi·ªÉu"],
        correct: 1,
        explanation: "Rely = D·ª±a v√†o - tin t∆∞·ªüng v√† ph·ª• thu·ªôc v√†o ai/c√°i g√¨"
      },
      {
        question: "A 'dishwasher' is:",
        options: ["A. Ng∆∞·ªùi r·ª≠a b√°t", "B. M√°y r·ª≠a b√°t", "C. B·ªìn r·ª≠a", "D. KhƒÉn lau"],
        correct: 1,
        explanation: "Dishwasher = M√°y r·ª≠a b√°t - thi·∫øt b·ªã t·ª± ƒë·ªông r·ª≠a ch√©n ƒëƒ©a"
      },
      {
        question: "'Furniture' includes:",
        options: ["A. Qu·∫ßn √°o", "B. ƒê·ªì n·ªôi th·∫•t", "C. ƒê·ªì ƒÉn", "D. ƒê·ªì ch∆°i"],
        correct: 1,
        explanation: "Furniture = ƒê·ªì n·ªôi th·∫•t - b√†n gh·∫ø v√† ƒë·ªì d√πng trong nh√†"
      },
      {
        question: "A 'sporting event' is:",
        options: ["A. Bu·ªïi h√≤a nh·∫°c", "B. S·ª± ki·ªán th·ªÉ thao", "C. L·ªÖ h·ªôi", "D. Tri·ªÉn l√£m"],
        correct: 1,
        explanation: "Sporting event = S·ª± ki·ªán th·ªÉ thao - cu·ªôc thi ƒë·∫•u th·ªÉ thao"
      },
      {
        question: "To 'build robots' means:",
        options: ["A. Mua robot", "B. Ch·∫ø t·∫°o robot", "C. S·ª≠a robot", "D. V·∫Ω robot"],
        correct: 1,
        explanation: "Build robots = Ch·∫ø t·∫°o robot - t·∫°o ra ng∆∞·ªùi m√°y"
      },
      {
        question: "'Carry out' means:",
        options: ["A. Mang ra", "B. Th·ª±c hi·ªán", "C. B·ªè ƒëi", "D. Gi·ªØ l·∫°i"],
        correct: 1,
        explanation: "Carry out = Th·ª±c hi·ªán - ti·∫øn h√†nh l√†m ƒëi·ªÅu g√¨ ƒë√≥"
      },
      {
        question: "Something 'difficult' is:",
        options: ["A. D·ªÖ d√†ng", "B. Kh√≥ khƒÉn", "C. ƒê∆°n gi·∫£n", "D. Ph·ª©c t·∫°p"],
        correct: 1,
        explanation: "Difficult = Kh√≥ khƒÉn - kh√¥ng d·ªÖ d√†ng th·ª±c hi·ªán"
      },
      {
        question: "'Power' means:",
        options: ["A. S·ª©c m·∫°nh", "B. Quy·ªÅn l·ª±c", "C. NƒÉng l∆∞·ª£ng", "D. T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng"],
        correct: 3,
        explanation: "Power = Quy·ªÅn l·ª±c - kh·∫£ nƒÉng ki·ªÉm so√°t ho·∫∑c ·∫£nh h∆∞·ªüng"
      },
      {
        question: "'Fairly' means:",
        options: ["A. R·∫•t", "B. Kh√°", "C. √çt", "D. Kh√¥ng"],
        correct: 1,
        explanation: "Fairly = Kh√° - ·ªü m·ª©c ƒë·ªô v·ª´a ph·∫£i"
      },
      {
        question: "'Technological' relates to:",
        options: ["A. Sinh h·ªçc", "B. C√¥ng ngh·ªá", "C. H√≥a h·ªçc", "D. V·∫≠t l√Ω"],
        correct: 1,
        explanation: "Technological = Thu·ªôc v·ªÅ c√¥ng ngh·ªá - li√™n quan ƒë·∫øn k·ªπ thu·∫≠t"
      },
      {
        question: "A 'complaint' is:",
        options: ["A. L·ªùi khen", "B. L·ªùi ph√†n n√†n", "C. L·ªùi h·ªèi", "D. L·ªùi c·∫£m ∆°n"],
        correct: 1,
        explanation: "Complaint = L·ªùi ph√†n n√†n - s·ª± b√†y t·ªè kh√¥ng h√†i l√≤ng"
      },
      {
        question: "A 'rug' is:",
        options: ["A. T·∫•m th·∫£m", "B. C√°i gh·∫ø", "C. C√°i b√†n", "D. C√°i gi∆∞·ªùng"],
        correct: 0,
        explanation: "Rug = T·∫•m th·∫£m - mi·∫øng v·∫£i tr·∫£i s√†n"
      },
      {
        question: "To 'set' rules means:",
        options: ["A. Ph√° v·ª° quy t·∫Øc", "B. ƒê·∫∑t ra quy t·∫Øc", "C. Qu√™n quy t·∫Øc", "D. H·ªçc quy t·∫Øc"],
        correct: 1,
        explanation: "Set = ƒê·∫∑t ra - thi·∫øt l·∫≠p quy t·∫Øc ho·∫∑c m·ª•c ti√™u"
      },
      {
        question: "'Skating' is:",
        options: ["A. B∆°i l·ªôi", "B. Tr∆∞·ª£t bƒÉng/patin", "C. Ch·∫°y b·ªô", "D. ƒê·∫°p xe"],
        correct: 1,
        explanation: "Skating = Tr∆∞·ª£t bƒÉng/patin - m√¥n th·ªÉ thao tr∆∞·ª£t tr√™n bƒÉng ho·∫∑c ƒë∆∞·ªùng"
      },
      {
        question: "'Afterward' means:",
        options: ["A. Tr∆∞·ªõc ƒë√≥", "B. Sau ƒë√≥", "C. Trong l√∫c", "D. Ngay l·∫≠p t·ª©c"],
        correct: 1,
        explanation: "Afterward = Sau ƒë√≥ - ·ªü th·ªùi ƒëi·ªÉm sau m·ªôt s·ª± ki·ªán"
      },
      {
        question: "To 'complete' something means:",
        options: ["A. B·∫Øt ƒë·∫ßu", "B. Ho√†n th√†nh", "C. Ti·∫øp t·ª•c", "D. D·ª´ng l·∫°i"],
        correct: 1,
        explanation: "Complete = Ho√†n th√†nh - l√†m xong ho·∫∑c ƒë·∫ßy ƒë·ªß"
      },
      {
        question: "A 'nap' is:",
        options: ["A. Gi·∫•c ng·ªß d√†i", "B. Gi·∫•c ng·ªß ng·∫Øn", "C. Th·ª©c gi·∫•c", "D. M∆°"],
        correct: 1,
        explanation: "Nap = Gi·∫•c ng·ªß ng·∫Øn - ng·ªß m·ªôt ch√∫t trong ng√†y"
      },
      {
        question: "'News' means:",
        options: ["A. Tin c≈©", "B. Tin t·ª©c", "C. Tin ƒë·ªìn", "D. Tin nh·∫Øn"],
        correct: 1,
        explanation: "News = Tin t·ª©c - th√¥ng tin v·ªÅ s·ª± ki·ªán hi·ªán t·∫°i"
      },
      {
        question: "'Powerless' means:",
        options: ["A. M·∫°nh m·∫Ω", "B. B·∫•t l·ª±c", "C. Quy·ªÅn l·ª±c", "D. C√≥ kh·∫£ nƒÉng"],
        correct: 1,
        explanation: "Powerless = B·∫•t l·ª±c - kh√¥ng c√≥ kh·∫£ nƒÉng l√†m g√¨"
      },
      {
        question: "'Technologically' means:",
        options: ["A. V·ªÅ m·∫∑t khoa h·ªçc", "B. V·ªÅ m·∫∑t c√¥ng ngh·ªá", "C. V·ªÅ m·∫∑t k·ªπ thu·∫≠t", "D. B v√† C ƒë·ªÅu ƒë√∫ng"],
        correct: 3,
        explanation: "Technologically = V·ªÅ m·∫∑t c√¥ng ngh·ªá - theo c√°ch li√™n quan ƒë·∫øn k·ªπ thu·∫≠t"
      },
      {
        question: "'Powerlessness' is the state of being:",
        options: ["A. M·∫°nh m·∫Ω", "B. B·∫•t l·ª±c", "C. T·ª± tin", "D. ƒê·ªôc l·∫≠p"],
        correct: 1,
        explanation: "Powerlessness = S·ª± b·∫•t l·ª±c - tr·∫°ng th√°i kh√¥ng c√≥ quy·ªÅn l·ª±c"
      },
      {
        question: "To 'carry on' means:",
        options: ["A. D·ª´ng l·∫°i", "B. Ti·∫øp t·ª•c", "C. B·∫Øt ƒë·∫ßu", "D. K·∫øt th√∫c"],
        correct: 1,
        explanation: "Carry on = Ti·∫øp t·ª•c - duy tr√¨ l√†m ƒëi·ªÅu g√¨ ƒë√≥"
      }
    ];

    const grammarQuestions = [
      {
        question: "1. My parents _____ to work every day.",
        options: ["A. go", "B. goes", "C. going", "D. are going"],
        correct: 0,
        explanation: "ƒê√°p √°n: A. go - D√πng Present Simple v·ªõi ch·ªß ng·ªØ s·ªë nhi·ªÅu 'parents' v√† tr·∫°ng t·ª´ t·∫ßn su·∫•t 'every day'."
      },
      {
        question: "2. She _____ her homework right now.",
        options: ["A. do", "B. does", "C. is doing", "D. doing"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. is doing - D√πng Present Continuous v·ªõi 'right now' ƒë·ªÉ di·ªÖn t·∫£ h√†nh ƒë·ªông ƒëang x·∫£y ra."
      },
      {
        question: "3. I _____ what you mean.",
        options: ["A. am understanding", "B. understand", "C. understanding", "D. understands"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. understand - 'Understand' l√† stative verb, kh√¥ng d√πng ·ªü th√¨ ti·∫øp di·ªÖn."
      },
      {
        question: "4. The situation _____ complicated.",
        options: ["A. seems", "B. is seeming", "C. seem", "D. seeming"],
        correct: 0,
        explanation: "ƒê√°p √°n: A. seems - 'Seem' l√† linking verb, d√πng Present Simple v·ªõi ch·ªß ng·ªØ s·ªë √≠t."
      },
      {
        question: "5. I want independence, _____ I need support.",
        options: ["A. and", "B. but", "C. or", "D. so"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. but - D√πng 'but' ƒë·ªÉ n·ªëi hai m·ªánh ƒë·ªÅ ƒë·ªëi l·∫≠p (mu·ªën ƒë·ªôc l·∫≠p nh∆∞ng c·∫ßn h·ªó tr·ª£)."
      },
      {
        question: "6. Never _____ such a big generation gap.",
        options: ["A. I have seen", "B. have I seen", "C. I seen", "D. seen I have"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. have I seen - ƒê·∫£o ng·ªØ v·ªõi 'Never' ƒë·∫∑t ƒë·∫ßu c√¢u: Never + tr·ª£ ƒë·ªông t·ª´ + S + V."
      },
      {
        question: "7. No sooner _____ home than I missed my family.",
        options: ["A. I had left", "B. had I left", "C. I left", "D. left I"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. had I left - ƒê·∫£o ng·ªØ v·ªõi 'No sooner': No sooner + had + S + V3 + than..."
      },
      {
        question: "8. Water _____ at 100 degrees Celsius.",
        options: ["A. boil", "B. boils", "C. is boiling", "D. boiling"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. boils - D√πng Present Simple ƒë·ªÉ di·ªÖn t·∫£ s·ª± th·∫≠t hi·ªÉn nhi√™n."
      },
      {
        question: "9. They _____ to move out next month.",
        options: ["A. plan", "B. plans", "C. are planning", "D. planned"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. are planning - D√πng Present Continuous ƒë·ªÉ di·ªÖn t·∫£ k·∫ø ho·∫°ch t∆∞∆°ng lai g·∫ßn."
      },
      {
        question: "10. This cake _____ delicious!",
        options: ["A. tastes", "B. is tasting", "C. taste", "D. tasting"],
        correct: 0,
        explanation: "ƒê√°p √°n: A. tastes - 'Taste' l√† linking verb khi di·ªÖn t·∫£ c·∫£m gi√°c, d√πng Present Simple."
      },
      {
        question: "11. She _____ three languages fluently.",
        options: ["A. speak", "B. speaks", "C. is speaking", "D. speaking"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. speaks - D√πng Present Simple v·ªõi ch·ªß ng·ªØ s·ªë √≠t 'she' ƒë·ªÉ di·ªÖn t·∫£ kh·∫£ nƒÉng."
      },
      {
        question: "12. I _____ to the gym every Monday.",
        options: ["A. go", "B. goes", "C. am going", "D. going"],
        correct: 0,
        explanation: "ƒê√°p √°n: A. go - D√πng Present Simple v·ªõi 'every Monday' ƒë·ªÉ di·ªÖn t·∫£ th√≥i quen."
      },
      {
        question: "13. He _____ his independence now.",
        options: ["A. enjoy", "B. enjoys", "C. is enjoying", "D. enjoying"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. is enjoying - D√πng Present Continuous v·ªõi 'now' ƒë·ªÉ di·ªÖn t·∫£ h√†nh ƒë·ªông ƒëang x·∫£y ra."
      },
      {
        question: "14. The book _____ to my sister.",
        options: ["A. belong", "B. belongs", "C. is belonging", "D. belonging"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. belongs - 'Belong' l√† stative verb, kh√¥ng d√πng ·ªü th√¨ ti·∫øp di·ªÖn."
      },
      {
        question: "15. Rarely _____ agree on everything.",
        options: ["A. we do", "B. do we", "C. we", "D. does we"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. do we - ƒê·∫£o ng·ªØ v·ªõi 'Rarely' ƒë·∫∑t ƒë·∫ßu c√¢u: Rarely + do/does + S + V."
      },
      {
        question: "16. I studied hard, _____ I passed the exam.",
        options: ["A. but", "B. or", "C. so", "D. yet"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. so - D√πng 'so' ƒë·ªÉ n·ªëi hai m·ªánh ƒë·ªÅ c√≥ quan h·ªá nguy√™n nh√¢n - k·∫øt qu·∫£."
      },
      {
        question: "17. She _____ tired after work.",
        options: ["A. feel", "B. feels", "C. is feeling", "D. feeling"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. feels - 'Feel' l√† linking verb, d√πng Present Simple v·ªõi ch·ªß ng·ªØ s·ªë √≠t."
      },
      {
        question: "18. At no time _____ give up.",
        options: ["A. I did", "B. did I", "C. I", "D. do I"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. did I - ƒê·∫£o ng·ªØ v·ªõi 'At no time': At no time + tr·ª£ ƒë·ªông t·ª´ + S + V."
      },
      {
        question: "19. The sun _____ in the east.",
        options: ["A. rise", "B. rises", "C. is rising", "D. rising"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. rises - D√πng Present Simple ƒë·ªÉ di·ªÖn t·∫£ s·ª± th·∫≠t hi·ªÉn nhi√™n."
      },
      {
        question: "20. We _____ a party this weekend.",
        options: ["A. have", "B. has", "C. are having", "D. having"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. are having - D√πng Present Continuous ƒë·ªÉ di·ªÖn t·∫£ k·∫ø ho·∫°ch t∆∞∆°ng lai g·∫ßn."
      },
      {
        question: "21. I _____ you're right about this.",
        options: ["A. am thinking", "B. think", "C. thinking", "D. thinks"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. think - 'Think' (nghƒ© r·∫±ng/cho r·∫±ng) l√† stative verb, kh√¥ng d√πng ·ªü th√¨ ti·∫øp di·ªÖn."
      },
      {
        question: "22. She looks _____ today.",
        options: ["A. happily", "B. happiness", "C. happy", "D. happier"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. happy - Sau linking verb 'look' d√πng t√≠nh t·ª´, kh√¥ng d√πng tr·∫°ng t·ª´."
      },
      {
        question: "23. Seldom _____ late for school.",
        options: ["A. he is", "B. is he", "C. he", "D. does he"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. is he - ƒê·∫£o ng·ªØ v·ªõi 'Seldom' ƒë·∫∑t ƒë·∫ßu c√¢u: Seldom + be/tr·ª£ ƒë·ªông t·ª´ + S + V."
      },
      {
        question: "24. I'm tired, _____ I'm going to bed.",
        options: ["A. but", "B. and", "C. so", "D. or"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. so - D√πng 'so' ƒë·ªÉ n·ªëi hai m·ªánh ƒë·ªÅ c√≥ quan h·ªá nguy√™n nh√¢n - k·∫øt qu·∫£."
      },
      {
        question: "25. The movie _____ at 7 PM tonight.",
        options: ["A. start", "B. starts", "C. is starting", "D. starting"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. starts - D√πng Present Simple ƒë·ªÉ di·ªÖn t·∫£ l·ªãch tr√¨nh c·ªë ƒë·ªãnh."
      },
      {
        question: "26. She _____ a new car.",
        options: ["A. own", "B. owns", "C. is owning", "D. owning"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. owns - 'Own' l√† stative verb, kh√¥ng d√πng ·ªü th√¨ ti·∫øp di·ªÖn."
      },
      {
        question: "27. Under no circumstances _____ your dreams.",
        options: ["A. you should give up", "B. should you give up", "C. you give up", "D. give up you"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. should you give up - ƒê·∫£o ng·ªØ v·ªõi 'Under no circumstances': Under no circumstances + tr·ª£ ƒë·ªông t·ª´ + S + V."
      },
      {
        question: "28. He _____ more mature every day.",
        options: ["A. become", "B. becomes", "C. is becoming", "D. becoming"],
        correct: 2,
        explanation: "ƒê√°p √°n: C. is becoming - D√πng Present Continuous ƒë·ªÉ di·ªÖn t·∫£ s·ª± thay ƒë·ªïi d·∫ßn d·∫ßn."
      },
      {
        question: "29. I like coffee, _____ I prefer tea.",
        options: ["A. and", "B. but", "C. or", "D. so"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. but - D√πng 'but' ƒë·ªÉ n·ªëi hai m·ªánh ƒë·ªÅ ƒë·ªëi l·∫≠p (th√≠ch c√† ph√™ nh∆∞ng th√≠ch tr√† h∆°n)."
      },
      {
        question: "30. Little _____ about the consequences.",
        options: ["A. he knew", "B. did he know", "C. he knows", "D. does he know"],
        correct: 1,
        explanation: "ƒê√°p √°n: B. did he know - ƒê·∫£o ng·ªØ v·ªõi 'Little' ƒë·∫∑t ƒë·∫ßu c√¢u: Little + tr·ª£ ƒë·ªông t·ª´ + S + V."
      }
    ];

    // Data SDK Handler
    const dataHandler = {
      onDataChanged(data) {
        if (data.length > 0) {
          userProgress = data[0];
          updateAllProgress();
        }
      }
    };

    async function initDataSdk() {
      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error("Failed to initialize data SDK");
        }
      }
    }

    async function saveProgress() {
      if (!window.dataSdk) return;
      
      const vocabProgress = Math.round(((currentCardIndex + 1) / vocabularyCards.length) * 100);
      const readingProgress = Object.keys(readingAnswers).length > 0 ? 
        Math.round((Object.keys(readingAnswers).length / readingQuestions.length) * 100) : 0;
      const grammarProgress = Object.keys(grammarAnswers).length > 0 ?
        Math.round((Object.keys(grammarAnswers).length / grammarQuestions.length) * 100) : 0;
      const totalProgress = Math.round((vocabProgress + readingProgress + grammarProgress) / 3);

      const progressData = {
        id: "user_progress",
        vocabulary_progress: vocabProgress,
        reading_progress: readingProgress,
        grammar_progress: grammarProgress,
        total_progress: totalProgress,
        completed_vocab_cards: currentCardIndex + 1,
        reading_score: 0,
        grammar_score: 0,
        last_updated: new Date().toISOString()
      };

      if (userProgress) {
        const result = await window.dataSdk.update({ ...progressData, __backendId: userProgress.__backendId });
        if (!result.isOk) {
          showToast("Kh√¥ng th·ªÉ l∆∞u ti·∫øn ƒë·ªô");
        }
      } else {
        const result = await window.dataSdk.create(progressData);
        if (!result.isOk) {
          showToast("Kh√¥ng th·ªÉ l∆∞u ti·∫øn ƒë·ªô");
        }
      }
    }

    function updateAllProgress() {
      if (!userProgress) return;

      updateProgressCircle('total-progress', userProgress.total_progress || 0);
      updateProgressCircle('vocab-progress', userProgress.vocabulary_progress || 0);
      updateProgressCircle('reading-progress', userProgress.reading_progress || 0);
      updateProgressCircle('grammar-progress', userProgress.grammar_progress || 0);
    }

    function updateProgressCircle(id, percentage) {
      const circle = document.getElementById(`${id}-ring`);
      const text = document.getElementById(`${id}-text`);
      const circumference = 2 * Math.PI * 52;
      const offset = circumference - (percentage / 100) * circumference;
      
      circle.style.strokeDashoffset = offset;
      text.textContent = `${percentage}%`;
    }

    // Element SDK
    async function onConfigChange(config) {
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;

      document.body.style.background = `linear-gradient(135deg, ${bgColor} 0%, ${surfaceColor} 100%)`;
      document.body.style.color = textColor;

      document.querySelector('header').style.color = textColor;
      
      const progressBoxes = document.querySelectorAll('.rounded-xl.p-4, .rounded-xl.p-6');
      progressBoxes.forEach(box => {
        box.style.backgroundColor = surfaceColor;
        box.style.color = textColor;
      });

      document.querySelectorAll('.progress-ring-circle').forEach(circle => {
        circle.style.stroke = primaryColor;
      });

      const tabs = document.querySelectorAll('.tab-button');
      tabs.forEach(tab => {
        tab.style.backgroundColor = surfaceColor;
        tab.style.color = textColor;
        if (tab.classList.contains('active')) {
          tab.style.backgroundColor = primaryColor;
          tab.style.color = 'white';
        }
      });

      document.querySelectorAll('.flashcard-front').forEach(el => {
        el.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
      });

      document.querySelectorAll('.flashcard-back').forEach(el => {
        el.style.background = `linear-gradient(135deg, ${secondaryColor} 0%, ${primaryColor} 100%)`;
      });

      document.getElementById('vocab-progress-bar').style.backgroundColor = primaryColor;

      document.querySelectorAll('.control-button').forEach(btn => {
        btn.style.backgroundColor = primaryColor;
        btn.style.color = 'white';
      });

      document.getElementById('unit-title').textContent = config.unit_title || defaultConfig.unit_title;
      document.getElementById('total-progress-label').textContent = config.total_progress_label || defaultConfig.total_progress_label;
      document.getElementById('vocab-progress-label').textContent = config.vocab_progress_label || defaultConfig.vocab_progress_label;
      document.getElementById('reading-progress-label').textContent = config.reading_progress_label || defaultConfig.reading_progress_label;
      document.getElementById('grammar-progress-label').textContent = config.grammar_progress_label || defaultConfig.grammar_progress_label;
      document.getElementById('vocabulary-tab-text').textContent = config.vocabulary_tab || defaultConfig.vocabulary_tab;
      document.getElementById('reading-tab-text').textContent = config.reading_tab || defaultConfig.reading_tab;
      document.getElementById('grammar-tab-text').textContent = config.grammar_tab || defaultConfig.grammar_tab;
      document.getElementById('home-button-text').textContent = config.home_button || defaultConfig.home_button;
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["unit_title", config.unit_title || defaultConfig.unit_title],
          ["total_progress_label", config.total_progress_label || defaultConfig.total_progress_label],
          ["vocab_progress_label", config.vocab_progress_label || defaultConfig.vocab_progress_label],
          ["reading_progress_label", config.reading_progress_label || defaultConfig.reading_progress_label],
          ["grammar_progress_label", config.grammar_progress_label || defaultConfig.grammar_progress_label],
          ["vocabulary_tab", config.vocabulary_tab || defaultConfig.vocabulary_tab],
          ["reading_tab", config.reading_tab || defaultConfig.reading_tab],
          ["grammar_tab", config.grammar_tab || defaultConfig.grammar_tab],
          ["home_button", config.home_button || defaultConfig.home_button]
        ])
      });
    }

    // Text-to-Speech functionality
    function speakWord(word) {
      if ('speechSynthesis' in window) {
        window.speechSynthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(word);
        utterance.lang = 'en-US';
        utterance.rate = 0.8;
        utterance.pitch = 1;
        window.speechSynthesis.speak(utterance);
      }
    }

    // Flashcard functionality
    function updateFlashcard() {
      const card = vocabularyCards[currentCardIndex];
      const flashcard = document.getElementById('flashcard-container');
      flashcard.classList.remove('flipped');
      
      document.getElementById('card-word').textContent = card.word;
      document.getElementById('card-word-back').textContent = card.word;
      document.getElementById('card-phonetic-front').textContent = card.phonetic;
      document.getElementById('card-type-front').textContent = card.type;
      document.getElementById('card-definition').textContent = card.definition;
      document.getElementById('card-example').textContent = `Example: ${card.example}`;
      
      document.getElementById('card-counter').textContent = `${currentCardIndex + 1} / ${vocabularyCards.length}`;
      const progress = ((currentCardIndex + 1) / vocabularyCards.length) * 100;
      document.getElementById('vocab-progress-bar').style.width = `${progress}%`;
      
      document.getElementById('prev-btn').disabled = currentCardIndex === 0;
      document.getElementById('next-btn').disabled = currentCardIndex === vocabularyCards.length - 1;
      
      // Auto-pronounce the word
      speakWord(card.word);
    }

    // Vocabulary Test functionality
    function updateVocabularyTest() {
      const question = vocabularyTestQuestions[currentTestIndex];
      const userAnswer = vocabularyTestAnswers[currentTestIndex];
      
      document.getElementById('test-question').textContent = question.question;
      document.getElementById('test-counter').textContent = `${currentTestIndex + 1} / ${vocabularyTestQuestions.length}`;
      
      const progress = ((currentTestIndex + 1) / vocabularyTestQuestions.length) * 100;
      document.getElementById('test-progress-bar').style.width = `${progress}%`;
      
      const optionsContainer = document.getElementById('test-options');
      optionsContainer.innerHTML = '';
      
      question.options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'quiz-option p-4 rounded-lg border-2 border-gray-300 cursor-pointer transition-all';
        optionDiv.textContent = option;
        optionDiv.dataset.index = index;
        
        if (userAnswer !== undefined) {
          optionDiv.style.pointerEvents = 'none';
          if (index === question.correct) {
            optionDiv.classList.add('correct');
          } else if (index === userAnswer) {
            optionDiv.classList.add('incorrect');
          }
        } else {
          optionDiv.addEventListener('click', function() {
            selectTestAnswer(index);
          });
        }
        
        optionsContainer.appendChild(optionDiv);
      });
      
      const feedbackDiv = document.getElementById('test-feedback');
      if (userAnswer !== undefined) {
        const isCorrect = userAnswer === question.correct;
        feedbackDiv.classList.remove('hidden');
        
        document.getElementById('feedback-icon').textContent = isCorrect ? '‚úÖ' : '‚ùå';
        document.getElementById('feedback-text').textContent = isCorrect ? 'Ch√≠nh x√°c!' : 'Ch∆∞a ƒë√∫ng!';
        document.getElementById('feedback-explanation').textContent = question.explanation;
        
        if (isCorrect) {
          playCorrectSound();
        } else {
          playIncorrectSound();
        }
      } else {
        feedbackDiv.classList.add('hidden');
      }
      
      document.getElementById('test-prev-btn').disabled = currentTestIndex === 0;
      document.getElementById('test-next-btn').disabled = currentTestIndex === vocabularyTestQuestions.length - 1;
    }

    function selectTestAnswer(answerIndex) {
      vocabularyTestAnswers[currentTestIndex] = answerIndex;
      updateVocabularyTest();
      saveProgress();
    }

    document.getElementById('flashcard-container').addEventListener('click', function() {
      this.classList.toggle('flipped');
    });

    document.getElementById('prev-btn').addEventListener('click', function() {
      if (currentCardIndex > 0) {
        currentCardIndex--;
        updateFlashcard();
      }
    });

    document.getElementById('next-btn').addEventListener('click', async function() {
      if (currentCardIndex < vocabularyCards.length - 1) {
        currentCardIndex++;
        updateFlashcard();
        await saveProgress();
      }
    });

    // Vocabulary test navigation
    document.getElementById('test-prev-btn').addEventListener('click', function() {
      if (currentTestIndex > 0) {
        currentTestIndex--;
        updateVocabularyTest();
      }
    });

    document.getElementById('test-next-btn').addEventListener('click', function() {
      if (currentTestIndex < vocabularyTestQuestions.length - 1) {
        currentTestIndex++;
        updateVocabularyTest();
      }
    });

    // Sub-tab switching for vocabulary section
    document.getElementById('flashcard-subtab').addEventListener('click', function() {
      document.getElementById('flashcard-subtab').classList.add('active');
      document.getElementById('test-subtab').classList.remove('active');
      document.getElementById('flashcard-content').classList.remove('hidden');
      document.getElementById('test-content').classList.add('hidden');
      
      if (window.elementSdk && window.elementSdk.config) {
        onConfigChange(window.elementSdk.config);
      }
    });

    document.getElementById('test-subtab').addEventListener('click', function() {
      document.getElementById('test-subtab').classList.add('active');
      document.getElementById('flashcard-subtab').classList.remove('active');
      document.getElementById('test-content').classList.remove('hidden');
      document.getElementById('flashcard-content').classList.add('hidden');
      updateVocabularyTest();
      
      if (window.elementSdk && window.elementSdk.config) {
        onConfigChange(window.elementSdk.config);
      }
    });

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      const activeSection = document.querySelector('#vocab-section:not(.hidden)');
      if (!activeSection) return;

      if (e.key === 'ArrowLeft' && currentCardIndex > 0) {
        currentCardIndex--;
        updateFlashcard();
      } else if (e.key === 'ArrowRight' && currentCardIndex < vocabularyCards.length - 1) {
        currentCardIndex++;
        updateFlashcard();
        saveProgress();
      } else if (e.key === ' ') {
        e.preventDefault();
        document.getElementById('flashcard-container').classList.toggle('flipped');
      }
    });

    // Tab switching
    function switchTab(tabName) {
      document.querySelectorAll('.tab-button').forEach(btn => {
        btn.classList.remove('active');
      });
      
      document.getElementById('vocab-section').classList.add('hidden');
      document.getElementById('stereotypes-section').classList.add('hidden');
      document.getElementById('reading-section').classList.add('hidden');
      document.getElementById('grammar-section').classList.add('hidden');
      
      if (tabName === 'vocab') {
        document.getElementById('vocab-tab').classList.add('active');
        document.getElementById('vocab-section').classList.remove('hidden');
      } else if (tabName === 'stereotypes') {
        document.getElementById('stereotypes-tab').classList.add('active');
        document.getElementById('stereotypes-section').classList.remove('hidden');
      } else if (tabName === 'reading') {
        document.getElementById('reading-tab').classList.add('active');
        document.getElementById('reading-section').classList.remove('hidden');
      } else if (tabName === 'grammar') {
        document.getElementById('grammar-tab').classList.add('active');
        document.getElementById('grammar-section').classList.remove('hidden');
      }
      
      if (window.elementSdk && window.elementSdk.config) {
        onConfigChange(window.elementSdk.config);
      }
    }

    document.getElementById('vocab-tab').addEventListener('click', () => switchTab('vocab'));
    document.getElementById('stereotypes-tab').addEventListener('click', () => switchTab('stereotypes'));
    document.getElementById('reading-tab').addEventListener('click', () => switchTab('reading'));
    document.getElementById('grammar-tab').addEventListener('click', () => switchTab('grammar'));

    // Load reading quiz
    function loadReadingQuiz() {
      const container = document.getElementById('reading-quiz-container');
      container.innerHTML = '';
      
      readingQuestions.forEach((q, qIndex) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'mb-6';
        questionDiv.innerHTML = `
          <p class="font-bold mb-3">${q.question}</p>
          <div class="space-y-2">
            ${q.options.map((opt, oIndex) => `
              <div class="quiz-option p-3 rounded-lg border-2 border-gray-300 cursor-pointer" data-question="${qIndex}" data-option="${oIndex}">
                ${opt}
              </div>
            `).join('')}
          </div>
        `;
        container.appendChild(questionDiv);
      });

      document.querySelectorAll('.quiz-option').forEach(opt => {
        opt.addEventListener('click', function() {
          const question = this.dataset.question;
          document.querySelectorAll(`[data-question="${question}"]`).forEach(o => {
            o.classList.remove('selected', 'ring-2', 'ring-blue-500');
          });
          this.classList.add('selected', 'ring-2', 'ring-blue-500');
          readingAnswers[question] = parseInt(this.dataset.option);
        });
      });
    }

    document.getElementById('submit-reading').addEventListener('click', async function() {
      let correctCount = 0;
      
      readingQuestions.forEach((q, index) => {
        const options = document.querySelectorAll(`[data-question="${index}"]`);
        const userAnswer = readingAnswers[index];
        
        options.forEach((opt, oIndex) => {
          if (oIndex === q.correct) {
            opt.classList.add('correct');
            if (userAnswer === oIndex) {
              correctCount++;
              playCorrectSound();
            }
          } else if (oIndex === userAnswer) {
            opt.classList.add('incorrect');
            playIncorrectSound();
          }
        });
      });

      const feedback = document.getElementById('reading-feedback');
      const percentage = Math.round((correctCount / readingQuestions.length) * 100);
      feedback.textContent = `K·∫øt qu·∫£: ${correctCount}/${readingQuestions.length} c√¢u ƒë√∫ng (${percentage}%)`;
      feedback.className = `mt-4 p-4 rounded-lg ${percentage >= 70 ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`;
      feedback.classList.remove('hidden');

      this.disabled = true;
      await saveProgress();
    });

    // Load grammar quiz
    function updateGrammarQuestion() {
      const question = grammarQuestions[currentGrammarIndex];
      const userAnswer = grammarAnswers[currentGrammarIndex];
      
      document.getElementById('grammar-question').textContent = question.question;
      document.getElementById('grammar-counter').textContent = `${currentGrammarIndex + 1} / ${grammarQuestions.length}`;
      
      const progress = ((currentGrammarIndex + 1) / grammarQuestions.length) * 100;
      document.getElementById('grammar-progress-bar').style.width = `${progress}%`;
      
      const optionsContainer = document.getElementById('grammar-options');
      optionsContainer.innerHTML = '';
      
      question.options.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'quiz-option p-4 rounded-lg border-2 border-gray-300 cursor-pointer transition-all';
        optionDiv.textContent = option;
        optionDiv.dataset.index = index;
        
        if (userAnswer !== undefined) {
          optionDiv.style.pointerEvents = 'none';
          if (index === question.correct) {
            optionDiv.classList.add('correct');
          } else if (index === userAnswer) {
            optionDiv.classList.add('incorrect');
          }
        } else {
          optionDiv.addEventListener('click', function() {
            selectGrammarAnswer(index);
          });
        }
        
        optionsContainer.appendChild(optionDiv);
      });
      
      const feedbackDiv = document.getElementById('grammar-feedback-box');
      if (userAnswer !== undefined) {
        const isCorrect = userAnswer === question.correct;
        feedbackDiv.classList.remove('hidden');
        
        document.getElementById('grammar-feedback-icon').textContent = isCorrect ? '‚úÖ' : '‚ùå';
        document.getElementById('grammar-feedback-text').textContent = isCorrect ? 'Ch√≠nh x√°c!' : 'Ch∆∞a ƒë√∫ng!';
        document.getElementById('grammar-feedback-explanation').textContent = question.explanation;
        
        if (isCorrect) {
          playCorrectSound();
        } else {
          playIncorrectSound();
        }
      } else {
        feedbackDiv.classList.add('hidden');
      }
      
      document.getElementById('grammar-prev-btn').disabled = currentGrammarIndex === 0;
      document.getElementById('grammar-next-btn').disabled = currentGrammarIndex === grammarQuestions.length - 1;
    }

    function selectGrammarAnswer(answerIndex) {
      grammarAnswers[currentGrammarIndex] = answerIndex;
      updateGrammarQuestion();
      saveProgress();
    }

    // Grammar navigation
    document.getElementById('grammar-prev-btn').addEventListener('click', function() {
      if (currentGrammarIndex > 0) {
        currentGrammarIndex--;
        updateGrammarQuestion();
      }
    });

    document.getElementById('grammar-next-btn').addEventListener('click', function() {
      if (currentGrammarIndex < grammarQuestions.length - 1) {
        currentGrammarIndex++;
        updateGrammarQuestion();
      }
    });

    // Grammar toggles
    document.querySelectorAll('.grammar-toggle').forEach(toggle => {
      toggle.addEventListener('click', function() {
        const targetId = this.dataset.target;
        const content = document.getElementById(targetId);
        const icon = this.querySelector('span:last-child');
        
        content.classList.toggle('active');
        icon.textContent = content.classList.contains('active') ? '‚àí' : '+';
        
        if (targetId === 'comprehensive-test' && content.classList.contains('active')) {
          updateGrammarQuestion();
        }
      });
    });

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'fixed top-4 right-4 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg z-50';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.remove();
      }, 3000);
    }

    // Initialize
    initDataSdk();
    updateFlashcard();
    loadReadingQuiz();
    updateAllProgress();
    
    if (window.elementSdk && window.elementSdk.config) {
      onConfigChange(window.elementSdk.config);
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99b5df2b136b3d7d',t:'MTc2MjYxMzMxMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>